<head>
  <meta charset="utf-8">
  <title>Book Lists!</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Karianne Burns">

</head>
<body class="container">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="text-center">Create Book Lists</h1>
      <p class="text-center">Create personalized books lists with Google Books API</p>
    </div>
  </div>

 <div class="row">
  <div class="col-lg-12">
    <% if (!user) { %>
      <h2>Welcome! Please log in.</h2>
      <a href="/auth/google">Sign In with Google</a>
    <% } else { %>
      <!-- <img style="-webkit-user-select: none" src="[%= user.photos[0].value %]"/> -->
      <h2>Hello, <%= user.displayName %>.</h2>
      <a href="/auth/google/lists">View Books Lists</a>
    <% } %>
  </div>
</div>


</body>



<script type="text/javascript" >
  //handler for googleapi
  var booksearch = function(query){
      var script = document.createElement("script");
        script.src = 'https://www.googleapis.com/books/v1/volumes?q='
          + encodeURIComponent(query) + '&filter=partial'
          + '&callback=handleResults';
        script.type = "text/javascript";
        document.getElementsByTagName("head")[0].appendChild(script);

  }

  function handleResults(root) {
  // Find the identifier of the first embeddable match
  // If none found, report an error
  var entries = root.items || [];
  var ul = document.getElementById('results')

    for (var i = 0; i < entries.length; ++i) {
      var entry = entries[i];
      console.log(entry);
      var newLi = document.createElement('li');
      var title = document.createTextNode(entry.volumeInfo.title +" by "+ entry.volumeInfo.authors[0] );
      newLi.appendChild(title);
      // newLi.addEventListener('click', addToList(), false);
      ul.appendChild(newLi);

    }

    showStatus('Could not find a match');
  }

</script>

<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<script type="text/javascript" src="//www.google.com/jsapi"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<style type="text/css">
/*ul
{
    list-style-type: none;
    padding:0; margin:0;
}*/
/* basic elements */
.col-centered{
    float: none;
    margin: 0 auto;
}
body { padding-top:50px; }
/* Nav LISTS */
#navlist
{
padding: 3px;
border: 1px solid #fff;
width: 12em;
background-color: #26a;
font: 12px verdana,sans-serif;
}

#navlist li
{
list-style: none;
border: 1px solid #26a;
}

#navlist a
{
color: #eee;
text-decoration: none;
display: block;
border-left: 1em solid #159;
border-bottom: 1px solid #159;
padding: 4px 8px;
}

#navlist a:hover { border-color: #124; }

#subnavlist li a
{
border: 0;
border-left: 0.8em solid #26a;
padding: 3px 4px;
margin-left: -20px;
}
</style>


